(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[27021],{572752:(e,t,i)=>{function n(e){return`${e.userAgent.isMobile?"mobile":"desktop"}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}i.d(t,{Z:()=>n})},177471:(e,t,i)=>{i.d(t,{k:()=>S});var n=i(667294),s=i(702664),o=i(186656),a=i(214494),r=i(19121),l=i(414327),c=i(773285),d=i(780280);const h=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"];function _({network:e,data:t,requestContext:i}){if(h.includes(e))return a.Z.create("UserSocialNetworkResource",{network:e,data:t}).callCreate();const n=`/v3/connect/${e}/`,s=((e,t,i)=>{let n;switch(e){case"facebook":const{facebookToken:e}=i;n=t?{facebook_id:t.id,facebook_token:e}:Object.freeze({});break;case"gplus":n=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":n=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:n=Object.freeze({})}return n})(e,t,i);return(0,o.Z)({url:n,method:"PUT",data:s})}var p=i(553171),u=i(124237),g=i(402201),m=i(572752),x=i(966113),v=i(83969),w=i(867820);let b=Object.freeze({});const y=e=>{const{network:t}=e;if(!b[t])return;const{[t]:{error:i,success:n,complete:s},...o}=b;b={...o},"error"===e.type?null==i||i(Object.freeze({})):n("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==s||s()},f=({i18n:e,network:t,callbacks:i,requestContext:n,inAnyGoogleLocaleFixExperiment:s})=>{if(i={error:()=>{},complete:()=>{},...i},(0,w.My)(`auth_web.social_connect.${t}.${(0,m.Z)(n)}`),"gplus"===t||"google"===t)(0,w.My)("auth_web.social_connect.google.migration"),async function(e,t){var i,n;await(0,v.Px)(void 0,t||void 0);const s=null===(i=window.google)||void 0===i||null===(n=i.accounts)||void 0===n?void 0:n.oauth2;s&&s.initCodeClient({client_id:x.v3,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e}).requestCode()}((e=>{i.success({one_time_code:e.code,redirect_uri:"postmessage"})}),s?n.language:void 0);else if("line"===t){const{locale:e}=n;(0,p.Z)(e,i)}else{const n=window.open("/connect/"+t+"/","",(e=>{switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,g.Z)({width:580,height:580});case"etsy":return(0,g.Z)({width:580,height:775});case"youtube":return(0,g.Z)({width:605,height:640});default:return(0,g.Z)()}})(t));if(!n)return u.Z.showError(e._('You must enable popups!', ' - ', ' -- ')),void(i.error&&i.error(Object.freeze({})));const s=setInterval((()=>{n.closed&&(clearInterval(s),y({network:t,type:"error"}))}),1e3);b={...b,[t]:i}}};window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin!==t)return;const i=e.data;if(i&&"social-connect-complete"===i.type){const t=e.data;t.network&&y(t)}}));class j{constructor({invalidateResource:e,requestContext:t,viewer:i,inAnyGoogleLocaleFixExperiment:n}){this.getUserId=()=>i.isAuth?i.id:"",this.getUsername=()=>i.isAuth?i.username:"",this.isLimitedLogin=()=>i.isLimitedLogin,this.invalidateResource=e,this.requestContext=t,this.inAnyGoogleLocaleFixExperiment=n}handleConnect(e,t,i,n){const s=t=>{("connect"===t.type?_({network:e,data:t.data,requestContext:this.requestContext}):(0,o.Z)({url:`/v3/connect/${e}/`,method:"DELETE"})).then((e=>{var t;const n={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",n),a.Z.create("UserResource",n).callGet(),null===(t=i.success)||void 0===t||t.call(i,e)}),(e=>{var t;e&&"object"==typeof e&&(null===(t=i.error)||void 0===t||t.call(i,{api_error_code:e.api_error_code,code:e.code,message:e.message}))})).finally((()=>{var e;null===(e=i.complete)||void 0===e||e.call(i)}))};t?this.isLimitedLogin()?s({type:"connect"}):f({network:e,callbacks:{success:e=>s({type:"connect",data:e}),error:i.error,complete:i.complete},i18n:n,requestContext:this.requestContext,inAnyGoogleLocaleFixExperiment:this.inAnyGoogleLocaleFixExperiment}):s({type:"disconnect"})}}function S(){const e=(0,s.useDispatch)(),t=(0,d.B)(),i=(0,r.Z)(),{checkExperiment:o}=(0,c.F)(),a=o("mweb_google_button_locale_fix").anyEnabled||o("dweb_google_button_locale_fix").anyEnabled;return(0,n.useMemo)((()=>new j({invalidateResource:(t,i)=>e((0,l.jB)(t,i)),requestContext:t,viewer:i,inAnyGoogleLocaleFixExperiment:a})),[e,a,t,i])}},553171:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(231486);var s=i(643913),o=i(226198),a=i(966113),r=i(299899),l=i(826067),c=i(844974);const d="undefined"!=typeof window,h=d?`${window.location.origin}/oauth/line/redirect`:"",_=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,p=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==r.MM)return null;const i=(0,c.qn)(r.MM);return(0,c.L_)(r.MM),i};function u(e,t){var i;if(!d)return void(null===(i=t.error)||void 0===i||i.call(t,{message:"Window is undefined"}));let r;const c=function(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(36*Math.random())])).join("")}(10),u=async e=>{if(!e.isTrusted)return;const i=e instanceof MessageEvent?_(e):p(e),a=(0,l.mB)(i);if(a.state&&a.code&&a.state===c){r&&!r.closed&&r.close();try{const e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(n.U2(o.fS))}`},method:"POST",body:(0,s.Z)({code:a.code,redirect_uri:h})}),i=await e.json(),{id_token:r,access_token:l}=i;var d;if(r&&l)t.success({line_id_token:r,line_access_token:l});else null===(d=t.error)||void 0===d||d.call(t,{message:"No tokens returned"})}catch(x){var g;null===(g=t.error)||void 0===g||g.call(t,x)}finally{var m;r&&!r.closed&&r.close(),window.removeEventListener("message",u),window.removeEventListener("storage",u),null===(m=t.complete)||void 0===m||m.call(t)}}};window.addEventListener("message",u),window.addEventListener("storage",u),r=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${a.z}&redirect_uri=${encodeURIComponent(h)}&state=${c}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},31149:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(785893);function s({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(785893);function s({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,n.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},331744:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(785893);function s({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,n.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,n.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(785893);function s({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,n.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,n.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,n.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,n.jsx)("stop",{stopColor:"#09F"}),(0,n.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,n.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},464240:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(785893);function s({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,n.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},22641:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(785893);function s({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},867060:(e,t,i)=>{i.d(t,{LO:()=>o,Pu:()=>a,cc:()=>n,dB:()=>s,yF:()=>r});const n={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},s={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},o={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},a={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},r={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},936776:(e,t,i)=>{i.d(t,{Z:()=>s});const n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,s=e=>n.test(e)},207112:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),s=i(883119),o=i(785893);class a extends n.Component{constructor(e){var t,i,s;super(e),s={manualTruncate:!1},(i="state")in(t=this)?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,this.ref=(0,n.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,n=this.ref&&this.ref.current;if(!n)return;const s=void 0===n.textContent?"innerText":"textContent",o=n[s];("boolean"!=typeof t.spaces||t.spaces?o.split(" "):o).length<2?this.setState({manualTruncate:!0}):i.e(14118).then(i.bind(i,448433)).then((({default:i})=>{i(n,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:i=!1}=this.props,{manualTruncate:n}=this.state,a={maxWidth:e,maxHeight:t},r=i?{display:"inline",...a}:{...a};return n?(0,o.jsx)(s.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:r},ref:this.ref,"data-test-id":"truncater",children:this.props.children}):(0,o.jsx)(s.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:r},"data-test-id":"truncater",children:this.props.children})}}const r=a},17676:(e,t,i)=>{i.d(t,{l:()=>d,E:()=>c});var n=i(667294),s=i(425288);function o(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:s}=t;if("ShareSuggestionsResource"===s.resource){var i;const n=t.payload.response.resource_response.data||[],{term:o=""}=null!==(i=s.options)&&void 0!==i?i:{};return{...e,[o]:n}}if("ShareSuggestionsTypeaheadResource"===s.resource){var n;const i=(t.payload.response.resource_response.data||{}).items||[],{term:o=""}=null!==(n=s.options)&&void 0!==n?n:{};return{...e,[o]:i}}}return e}var a=i(505920),r=i(785893);const{Provider:l,useHook:c}=(0,s.Z)("ShareSuggestions");function d({children:e}){const[t,i]=(0,n.useReducer)(o,{}),s=e=>{i({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,a.Z8)("ShareSuggestionsResource",s),(0,a.Z8)("ShareSuggestionsTypeaheadResource",s);const c=(0,n.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,r.jsx)(l,{value:c,children:e})}},475970:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var n=i(667294),s=i(898781),o=i(883119),a=i(785893);function r({size:e,iconColor:t,backgroundColor:i,disabled:n,onClick:r}){const l=(0,s.ZP)(),c=48===e?"lg":"xl";return(0,a.jsx)(o.hU,{accessibilityLabel:l._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:i,icon:"link",iconColor:t||i&&!["white","lightGray","transparent"].includes(i)?t:"gray",size:c,disabled:n,onClick:r})}var l=i(172071),c=i(375436),d=i(67428),h=i(499128),_=i(53987),p=i(867060),u=i(407043),g=i(773285),m=i(616550),x=i(343341),v=i(743473),w=i(827896);const b=3e3;function y({backgroundColor:e,iconColor:t,iconSize:i,iconWrapperWidth:y,isCloseupActionBar:f,marginEnd:j,onClick:S,sharedObject:C,spaceBelowIcon:k,viewType:P,viewParameter:z,relayEnvironment:A}){const E=(0,s.ZP)(),{logContextEvent:Z}=(0,u.v)(),{checkExperiment:L}=(0,g.F)(),B=L("web_share_menu_logging").anyEnabled,I=(0,x.F9)(),[T,O]=(0,n.useState)(""),[M,F]=(0,n.useState)(!1),[U,R]=(0,n.useState)(!1),D=(0,m.useLocation)(),H=(0,w.Z)(),V=E._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),W=e=>{f?navigator.clipboard.writeText(e).then((()=>{var e;e=E._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),I.showToast((({hideToast:t})=>(0,a.jsx)(o.xu,{top:!0,children:(0,a.jsx)(h.ZP,{duration:b,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{R(!0),setTimeout((()=>{R(!1)}),b)}))},G=async()=>{if(T)return void W(T);F(!0);const e=(e=>{let t;if("pin"===C.type&&C.id){const e={shouldTrackForPrevLocation:!0};t=H(C.id,e)}return{invite_category:3,invite_channel:e,object_type:C.type,object_id:C.id,name:C.name,description:C.description||"",path:C.url,picture:C.imageUrl,client_tracking_params:t}})(12);v.Z.createShareInviteData(e,A).then((t=>{const{invite_url:i}=t;F(!1),i&&(O(i),v.Z.logShareInvite(e,t,A),W(i))}))},$=()=>{if(G(),B){const e=p.yF[C.type];e||l.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:C.type}),f&&Z({event_type:101,component:14147,element:13103,object_id_str:C.id,view_type:P,view_parameter:z,aux_data:e?{invite_object:e}:void 0}),S&&S()}};return(0,_.am)(D)&&f&&L("web_copy_link_btn_replace").anyEnabled?(0,a.jsx)(o.xu,{marginStart:1,children:(0,a.jsx)(o.zx,{accessibilityLabel:E._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:E._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:()=>$(),size:"lg",color:"gray",fullWidth:!0})}):(0,a.jsxs)(d.Z,{isCloseupActionBar:!0,width:y||i,marginEnd:j||!1,children:[(0,a.jsx)(o.xu,{alignItems:f?"center":"stretch",display:f?"flex":"block",marginBottom:k,width:f?"100%":"auto",children:(0,a.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:i,children:(0,a.jsx)(r,{backgroundColor:e,iconColor:t,size:i,onClick:$,disabled:M})})}),!f&&(0,a.jsx)(c.Z,{text:U?V:E._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},827021:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Se});var n=i(667294),s=i(172071),o=i(116303),a=i(898781),r=i(977558),l=i(349700),c=i(407043),d=i(773285),h=i(385740);const _="200",p=48,u=26,g=2,m=81,x=49,v=4,w=9,b=3,y=1,f=(v+1)*(p+u)+2*b*4,j="error";var S=i(883119),C=i(785893);function k({idx:e,item:t,onSendMessage:i,onViewConversation:s,sentHistory:_,objectAttachment:m,component:x}){var v;const w=(0,a.ZP)(),{logContextEvent:b}=(0,c.v)(),[y,f]=(0,n.useState)(!1),{viewType:k,viewParameter:P}=(0,h.SU)(),z=t.id||"string"==typeof t.email&&t.email||"",A=_[z]===j,E=Object.prototype.hasOwnProperty.call(_,z)&&!A,Z=null!==(v=_[z])&&void 0!==v?v:"";(0,n.useEffect)((()=>{A&&f(!1)}),[A]);let L="";const{full_name:B,email:I}=t;"string"!=typeof B||B.match(/^\s*$/)?"string"!=typeof I||I.match(/^\s*$/)||(L=I):L=B;let T,O,M="";E?M=w._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):y&&(M=w._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact')),"pinner"===m.type||"user"===m.type?(T=13530,O=13532):"board"===m.type?(T=13527,O=13529):(T=13524,O=13526);const{checkExperiment:F}=(0,d.F)(),U=F("web_share_show_more_contacts").anyEnabled;return(0,C.jsx)(S.xu,{"data-test-id":"sharesheet-contact-item",width:p+u,marginBottom:5,children:(0,C.jsx)(S.iP,{onTap:E?()=>{b({view_type:k,view_parameter:P,event_type:10399,component:x,element:O}),s(Z)}:()=>{b({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),b({view_type:k,view_parameter:P,event_type:10399,component:x,element:T,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),f(!0),i(t)},children:(0,C.jsxs)(S.kC,{direction:"column",alignItems:"center",children:[(0,C.jsxs)(S.xu,{alignItems:"center","data-test-id":y?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:p,justifyContent:"center",marginBottom:g,width:p,children:[y&&(0,C.jsx)(S.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:p,justifyContent:"center",position:"absolute",rounding:"circle",width:p,zIndex:new S.Ry(r.fe),children:(0,C.jsx)(S.JO,{accessibilityLabel:(0,l.Wc)(w._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:L}),icon:"check",color:"light",size:24})}),(0,C.jsx)(o.Z,{size:"fit",src:t.image_large_url,name:L})]}),(0,C.jsxs)(S.xu,{"data-test-id":"sharesheet-contact-item-label",width:U?"100%":p,paddingX:U?1:void 0,children:[(0,C.jsx)(S.xv,{lineClamp:1,size:"100",align:"center",children:L}),(0,C.jsx)(S.xv,{color:"subtle",size:"100",align:"center",children:M})]})]})})})}var P=i(784590),z=i(313951),A=i(17676);function E(e){var t;const{logContextEvent:i}=(0,c.v)(),s=(0,a.ZP)(),{onHide:o,onSendMessage:r,onShowImportContacts:l,objectAttachment:b,sentHistory:y}=e,{isLoaded:f}=(0,P.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),{checkExperiment:j}=(0,d.F)(),E=j("web_share_show_more_contacts").anyEnabled?w:v,{shareSuggestions:Z}=(0,A.E)(),L=(null===(t=Z[""])||void 0===t?void 0:t.slice(0,E))||[],B=L.length>0,{viewType:I,viewParameter:T}=(0,h.SU)();(0,n.useEffect)((()=>{if(f){i({event_type:B?7511:7512,component:56,view_type:70,view_parameter:256})}}),[B,i,f]);const{dropdownOpen:O,conversationOpen:M,newMessageOpen:F}=(0,z.Z5)(),U=e=>{M(e),O(),o()},R=L.map(((t,i)=>{const n=`${t.id||t.email||i}`,s={item:t,idx:i,onSendMessage:r,onViewConversation:U,sentHistory:y,objectAttachment:b},{component:o}=e;return(0,C.jsx)(k,{...s,component:o},n)})),D=!B&&!f;return(0,C.jsxs)(S.kC,{direction:"column",children:[(0,C.jsx)(S.kC,{alignItems:"center",height:x,justifyContent:"center",children:(0,C.jsx)(S.xv,{align:"center",size:_,weight:"bold",children:s._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,C.jsx)(S.kC,{flex:"none",minHeight:m,justifyContent:D?"center":void 0,children:D?(0,C.jsx)(S.xu,{paddingY:2,children:(0,C.jsx)(S.$j,{accessibilityLabel:s._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,C.jsxs)(S.kC,{wrap:!0,children:[(0,C.jsxs)(S.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:p+u,children:[(0,C.jsx)(S.xu,{height:p,marginBottom:g,width:p,children:(0,C.jsx)(S.hU,{accessibilityLabel:s._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{e.onSearchClick&&e.onSearchClick();const{component:t}=e;let n;n="pinner"===b.type||"user"===b.type?13531:"board"===b.type?13528:13525,i({view_type:I,view_parameter:T,event_type:10399,component:t,element:n}),F(b),O(),o()},size:"lg"})}),(0,C.jsx)(S.xv,{lineClamp:1,size:"100",children:s._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),B?R:(0,C.jsxs)(S.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:p+u,children:[(0,C.jsx)(S.xu,{height:p,marginBottom:g,width:p,children:(0,C.jsx)(S.hU,{accessibilityLabel:s._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:l,size:"lg"})}),(0,C.jsx)(S.xv,{lineClamp:1,size:"100",children:s._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function Z(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;default:return e}}var L=i(936776),B=i(750869);function I(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class T extends n.Component{constructor(...e){super(...e),I(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),I(this,"handleSendEmail",((e,t)=>{if(e){const i={type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}};this.props.onSendMessage(i,t)}})),I(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),I(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}renderCloseButton(){const{i18n:e,onCancelDraft:t}=this.props;return(0,C.jsx)(S.hU,{accessibilityLabel:e._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:t,size:"sm",iconColor:"gray"})}render(){const{width:e}=this.props;return(0,C.jsxs)(S.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:e,color:"default",children:[(0,C.jsxs)(S.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,C.jsx)(S.xu,{flex:"grow",marginEnd:8,children:(0,C.jsx)(S.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,C.jsxs)(S.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,C.jsx)(S.xu,{paddingY:1,marginBottom:4,children:(0,C.jsx)(S.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,C.jsx)(S.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,C.jsx)(S.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,C.jsx)(S.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,L.Z)(this.state.emailValue)})})]})]})}}function O(e){const t=(0,a.ZP)();return(0,C.jsx)(T,{...e,i18n:t})}var M=i(567831),F=i(475970),U=i(31149),R=i(107193),D=i(659522),H=i(331744),V=i(757146);function W({size:e=48}){return(0,C.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,C.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,C.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,C.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,C.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,C.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,C.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var G=i(375436),$=i(67428),N=i(19121);function q({iconSize:e,iconWrapperWidth:t,marginBottom:i,marginEnd:n,onCreatePincodeClick:s,sharedObject:o}){const r=(0,a.ZP)(),l=(0,N.Z)();return s&&[B.d.BOARD,B.d.PINNER,B.d.USER].includes(o.type)&&l.isAuth&&(o.id===l.id||l.isEmployee)?(0,C.jsxs)($.Z,{width:t,marginEnd:n,children:[(0,C.jsx)(S.xu,{marginBottom:i,children:(0,C.jsx)(S.iP,{fullWidth:!1,onTap:s,children:(0,C.jsx)(W,{size:e})})}),(0,C.jsx)(G.Z,{text:r._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}var Y=i(464240),X=i(22641),K=i(167912),J=i(780280),Q=i(743473),ee=i(827896),te=i(867060),ie=i(343341);function ne(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const se={backgroundColor:"#ffffff",border:"none",padding:0},oe=new Set(["JP","TW","TH"]),ae=(e,t)=>{(0,R.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),t)};class re extends n.Component{constructor(...e){super(...e),ne(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),ne(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,i=this.getShareOptions(12);e||(Q.Z.logShareInvite(i,t,this.props.relayEnvironment),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){let t;const{sharedObject:i,getClientTrackingParams:n}=this.props;if("pin"===i.type&&i.id){const e={shouldTrackForPrevLocation:!0};t=n(i.id,e)}return{invite_category:3,invite_channel:e,object_type:i.type,object_id:i.id,name:i.name,description:i.description||"",path:i.url,picture:i.imageUrl,client_tracking_params:t}}getWhatsAppURL(){const e=this.getShareOptions(10);Q.Z.createShareInviteData(e,this.props.relayEnvironment).then((e=>{const t=`${e.title}\n${e.invite_url}`;if(t){const i=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+i})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,M.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!this.props.viewer.isWriteBanned}handleSocialShareClick(e,t){if(this.checkWritePermissions())return;const{onCreatePincodeClick:i,onExternalSend:n,logContextEvent:o,viewType:a,viewParameter:r,inShareMenuLoggingExp:l,sharedObject:c,component:d}=this.props;let h=l?te.cc[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),l||(h=257)):"twitter"===e||9===t?(this.openTwitterDialog(),l||(h=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),l||(h=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),l||(h=951)):"pincode"===e||16===t?i&&i():"copylink"===e||12===t?(this.openShareUrlLink(),l||(h=100)):"email"===e||1===t?(this.openEmailDialog(),l||(h=258)):"line"!==e&&8!==t||(this.openLineDialog(),l||(h=952)),n&&n();const _=te.yF[c.type];_||s.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:c.type}),o({event_type:101,component:l?14121:153,element:h,object_id_str:l?c.id:void 0,view_type:l?a:void 0,view_parameter:l?r:void 0,aux_data:l?{invite_object:_}:void 0});const p={board:te.LO,pinner:te.Pu,user:te.Pu,pin:te.dB,did_it:te.dB,today_article:te.dB};o({event_type:10399,component:d,object_id_str:c.id||void 0,view_type:a,view_parameter:r,aux_data:{invite_object:_},element:p[c.type][t]})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){const{unauthId:e,viewer:t}=this.props;ae((()=>{Q.Z.shareFacebookInvite({options:this.getShareOptions(5),unauthId:e,viewer:t},this.props.relayEnvironment)}),t)}openFbMessengerDialog(){const{unauthId:e,viewer:t}=this.props;ae((()=>{Q.Z.shareFbMessengerInvite({options:this.getShareOptions(6),unauthId:e,viewer:t},this.props.relayEnvironment)}),t)}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(Q.Z.logShareInvite(e,this.state.whatsappInviteData,this.props.relayEnvironment),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){Q.Z.shareTwitterInvite(this.getShareOptions(9),this.props.relayEnvironment)}openLineDialog(){Q.Z.shareLineInvite(this.getShareOptions(8),this.props.relayEnvironment)}renderEmail(){const e=p,t=p+u,i=g;return(0,C.jsxs)($.Z,{width:t,marginEnd:!1,children:[(0,C.jsx)(S.xu,{display:"inlineBlock",marginBottom:i,children:(0,C.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:()=>this.handleSocialShareClick("email",1),style:se,children:(0,C.jsx)(U.Z,{size:e})})}),(0,C.jsx)(G.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}renderShareOptions(){const{i18n:e,onCreatePincodeClick:t,sharedObject:i,showLineShare:s,showMessengerShare:o,showEmailOption:a,viewType:r,viewParameter:l}=this.props,c=p,d=p+u,h=g;return(0,C.jsx)(n.Fragment,{children:(0,C.jsxs)(S.kC,{justifyContent:"start",wrap:!0,children:[s&&(0,C.jsxs)($.Z,{width:d,marginEnd:!1,children:[(0,C.jsx)(S.xu,{marginBottom:h,children:(0,C.jsx)("button",{"aria-label":e._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:()=>this.handleSocialShareClick("line",8),style:se,children:(0,C.jsx)(H.Z,{size:c})})}),(0,C.jsx)(G.Z,{text:e._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,C.jsxs)($.Z,{width:d,marginEnd:!1,children:[(0,C.jsx)(S.xu,{marginBottom:h,children:(0,C.jsx)("button",{"aria-label":e._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:()=>this.handleSocialShareClick("whatsapp",10),style:se,tabIndex:"-1",children:(0,C.jsx)(S.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,C.jsx)(X.Z,{size:c})})})}),(0,C.jsx)(G.Z,{text:e._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),o&&(0,C.jsxs)($.Z,{width:d,marginEnd:!1,children:[(0,C.jsx)(S.xu,{marginBottom:h,children:(0,C.jsx)("button",{"aria-label":e._('Share on Messenger', 'sharesheet.shareSocialBar.ShareMessenger', 'Button that will share via Messenger'),onClick:()=>this.handleSocialShareClick("messenger",6),style:se,children:(0,C.jsx)(V.Z,{size:c})})}),(0,C.jsx)(G.Z,{text:e._('Messenger', 'sharesheet.shareSocialBar.ShareMessengerLabel', 'Messenger button label')})]}),(0,C.jsxs)($.Z,{width:d,marginEnd:!1,children:[(0,C.jsx)(S.xu,{marginBottom:h,children:(0,C.jsx)("button",{"aria-label":e._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:()=>this.handleSocialShareClick("facebook",5),style:se,children:(0,C.jsx)(D.Z,{size:c})})}),(0,C.jsx)(G.Z,{text:e._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,C.jsxs)($.Z,{width:d,marginEnd:!1,children:[(0,C.jsx)(S.xu,{marginBottom:h,children:(0,C.jsx)("button",{"aria-label":e._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:()=>this.handleSocialShareClick("twitter",9),style:se,"data-test-id":"twitter-share-icon",children:(0,C.jsx)(Y.Z,{size:c})})}),(0,C.jsx)(G.Z,{text:e._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,C.jsxs)(n.Fragment,{children:[(0,C.jsx)(q,{iconSize:c,iconWrapperWidth:d,marginBottom:h,marginEnd:!1,onCreatePincodeClick:t,sharedObject:i}),(0,C.jsx)(F.default,{sharedObject:i,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:c,iconWrapperWidth:d,onClick:()=>this.handleSocialShareClick("copylink",12),isCloseupActionBar:!1,spaceBelowIcon:h,viewType:r,viewParameter:l,relayEnvironment:this.props.relayEnvironment},"copylink"),a&&this.renderEmail()]})]})})}render(){const{paddingX:e}=this.props;return(0,C.jsxs)(S.xu,{paddingX:e,children:[(0,C.jsx)(S.kC,{alignContent:"center",alignItems:"center",height:x,justifyContent:"center",children:(0,C.jsx)(S.xv,{size:_,weight:"bold",children:this.props.i18n._('Share', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,C.jsx)(S.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:m,children:this.renderShareOptions()})]})}}function le(e){const{logContextEvent:t}=(0,c.v)(),{checkExperiment:i}=(0,d.F)(),n=(0,a.ZP)(),s=(0,N.Z)(),o=s.isAuth&&oe.has(s.country),r=i("web_messenger_share_channel").anyEnabled,l=(0,J.B)(),h=i("web_share_menu_logging").anyEnabled,_=i("graphql_migration_sharesheet_sgrowth_web").anyEnabled,p=(0,K.useRelayEnvironment)();return(0,C.jsx)(re,{...e,toastManagerContext:(0,ie.F9)(),viewer:(0,N.Z)(),showLineShare:o,showMessengerShare:r,i18n:n,logContextEvent:t,unauthId:l.unauthId,inShareMenuLoggingExp:h,shareSheetExpEnabled:_,relayEnvironment:_?p:void 0,getClientTrackingParams:(0,ee.Z)()})}var ce=i(214494),de=i(499128),he=i(717615),_e=i(231947),pe=i(697247);const ue=(e,t)=>e.reduce(((e,i)=>({...e,[i]:t})),{}),ge=(e,t)=>"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):"";function me(e){const{logContextEvent:t}=(0,c.v)(),i=(0,a.ZP)(),[o,r]=(0,n.useState)(!1),[l,h]=(0,n.useState)(null),[_,p]=(0,n.useState)({}),[u]=(0,n.useState)(ge(e.sendType,i)),{showOneToast:g}=(0,ie.F9)(),{surface:m}=(0,pe.$)(),x=(0,N.Z)(),v=(0,he.Z)(),{conversationCreate:w}=(0,z.Z5)(),k=(0,z.NG)(),P=(0,n.useRef)();(0,n.useEffect)((()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.focus()}),[]);const A=(i,n)=>{r(!1),e.onMessageSent(),((i,n)=>{const{sharedObject:o}=e,a=o.id;s.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:a,aux_data:{conversation_id:i,pin_id:n}})})(i,n)},L=(e,t)=>{s.Z.increment("web.sharesheet.internal.send",1,{status:"fail"}),p({..._,...ue(e,j)});const i=t.message_detail||t.message;i&&g((({hideToast:e})=>(0,C.jsx)(de.ZP,{type:"error",duration:5e3,onHide:e,text:i})))},B=async(t,i,n)=>{const{sharedObject:s,sendType:o}=e,a=s.id,r={emails:i,user_ids:t,text:n,source:Z(m)};r[o]=a;const l=ce.Z.create("ConversationsResource",r),c=t.length>0?t:i;try{const e=await l.callCreate(),t=e&&e.resource_response.data;w(t),A(t.id,"pin"===o?a:null),p({..._,...ue(c,t.id)})}catch(d){L(c,d)}},I=(i,n)=>{"conversation_share_suggestion"===i.type?((t,i)=>{const{sharedObject:n,sendType:s}=e;let o;switch(s){case"pin":o="pinId";break;case"board":o="boardId";break;case"did_it":o="didItId";break;case"user":case"pinner":o="userId"}const a=o?k(t,{text:i,[o]:n.id,source:Z(m)},void 0,x):void 0;a&&a.then((()=>{A(t,"pin"===s?n.id:null),p({..._,[t]:t})})).catch((e=>{L([t],e)}))})(i.id,n):"user_share_suggestion"===i.type&&i.username?B([i.id],[],n):B([],[i.email],n),t({event_type:101,component:56,element:276})},{onCreatePincodeClick:T,onShowImport:M,sendType:F,sharedObject:U,onHide:R,onExternalSend:D,viewType:H,viewParameter:V,onSearchClick:W,component:G}=e,$="user"===e.sendType&&(0,_e.q6)(x,e.sharedObject.id,v),q=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,_e.q6)(x,e.sharedObject.ownerId,v),Y=$||q,X=x.should_show_messaging&&!Y,{checkExperiment:K}=(0,d.F)(),J=X&&K("web_share_show_more_contacts").anyEnabled,Q=(0,C.jsx)(S.xu,{paddingY:1,paddingX:3,children:(0,C.jsx)(S.iz,{})}),ee=(0,C.jsxs)(n.Fragment,{children:[J&&Q,(0,C.jsx)(le,{onCreatePincodeClick:T,onEmailIconClick:()=>{r(!0),h("email")},onExternalSend:D,onHide:R,sharedObject:U,showEmailOption:X,viewType:H,viewParameter:V,component:G}),!J&&X&&Q]});return o&&"email"===l?(0,C.jsx)(O,{initialTextValue:u,objectId:U.id,objectType:F,onCancelDraft:()=>{r(!1),h(null)},onHide:R,onSendMessage:I,width:f}):(0,C.jsxs)(S.xu,{color:"default",paddingX:b,paddingY:y,width:f,tabIndex:0,ref:P,children:[!J&&ee,X&&(0,C.jsx)(E,{objectAttachment:{type:F,id:U.id},onHide:R,onSendMessage:I,onSearchClick:W,onShowImportContacts:M,sentHistory:_,component:G}),J&&ee]})}var xe=i(177471);const ve=["facebook","google"];function we(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function be(e,t,i){return"facebook"===e?i._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function ye({onBack:e}){const t=(0,a.ZP)(),i=(0,N.Z)(),n=i.isAuth?i.email:null,s=ve.filter((e=>!i.isAuth||!1===i.socialNetwork[e].connected)),o=(0,xe.k)();return(0,C.jsx)(S.xu,{paddingX:1,paddingY:2,children:(0,C.jsxs)(S.kC,{gap:{row:0,column:2},direction:"column",children:[(0,C.jsxs)(S.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,C.jsx)(S.hU,{accessibilityLabel:t._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:e,size:"md"}),(0,C.jsx)(S.xv,{size:"300",weight:"bold",children:t._('Upload contacts from...', ' - ', ' -- ')})]}),(0,C.jsx)(S.kC,{direction:"column",gap:{row:0,column:4},children:s.map((e=>(0,C.jsx)(S.xu,{paddingX:2,children:(0,C.jsxs)(S.iP,{onTap:()=>(e=>{o.handleConnect(e,!0,Object.freeze({}),t)})(e),children:[(0,C.jsx)(S.xv,{size:"200",children:we(e,t)}),(0,C.jsx)(S.xv,{size:"200",children:be(e,n,t)})]})},e)))})]})})}var fe=i(749049);const je=14121;function Se({element:e,onCreatePincodeClick:t,onExternalSend:i,onHide:o,sendType:a,sharedObject:l,viewType:_,viewParameter:p,component:u}){const{logContextEvent:g}=(0,c.v)(),[m,x]=(0,n.useState)(!1),{checkExperiment:v}=(0,d.F)(),w=v("web_share_menu_logging").anyEnabled,b=(0,n.useRef)(!1),{viewParameter:y}=(0,h.SU)();(0,n.useEffect)((()=>{const t=te.yF[a];return t||s.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:a}),g({event_type:7120,component:w?je:void 0,object_id_str:l.id,element:w?e:void 0,view_type:_,view_parameter:p,aux_data:w?{invite_object:t}:void 0}),g({event_type:10400,component:u,object_id_str:l.id,element:(0,fe.O)(t),view_type:_,view_parameter:p||y,aux_data:{invite_object:t}}),()=>{w||g({event_type:7121,object_id_str:l.id,view_type:_,view_parameter:p}),b.current||g({event_type:10403,component:u,object_id_str:l.id,element:13478,view_type:_,view_parameter:y,aux_data:{invite_object:t}});const e=b.current?7493:7492;g({event_type:e,component:w?je:void 0,object_id_str:w?l.id:void 0,element:w?13097:void 0,view_type:_,view_parameter:p,aux_data:w?{invite_object:t}:void 0})}}),[]);const f=()=>{x(!0)},j=()=>{x(!1)},k=()=>{b.current=!0},P=()=>{b.current=!0},z=()=>{b.current=!0,i&&i()};return m?(0,C.jsx)(ye,{onBack:j}):(0,C.jsx)(S.xu,{overflow:"hidden",rounding:4,zIndex:new S.Ry(r.fe-1),color:"default",children:(0,C.jsx)(me,{onCreatePincodeClick:t,onHide:o,onShowImport:f,onMessageSent:P,onExternalSend:z,onSearchClick:k,sendType:a,sharedObject:l,viewType:_,viewParameter:p,component:u})})}},375436:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(207112),s=i(883119),o=i(785893);const a=({text:e})=>(0,o.jsx)(s.xv,{align:"center",size:"100",children:(0,o.jsx)(n.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},67428:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),s=i(785893);const o=({width:e,marginEnd:t,children:i,isCloseupActionBar:o})=>(0,s.jsx)(n.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,marginBottom:o?0:5,children:i})},749049:(e,t,i)=>{i.d(t,{O:()=>n});const n=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27021-7e6d860dee50ef54.mjs.map